转载请注明链接：http://blog.csdn.net/feather_wch/article/details/79643743

#Android网络基础
版本：2018/3/21-2(22：44)

1、网络分层是什么？
>1. 将`数据的发送、转发、打包、拆包`，以及`控制信息的加载和拆出`等工作，分别交由不同的层级去完成。
>2. 最终将`通信和网络互联`的复杂问题变得简单。

2、网络分层(五层从上至下)
|层级|作用|
|---|---|
|1.应用层|拆解数据并进行解读, 有`http\ftp\telnet\smtp\pop3`等协议|
|2.传输层|为两台主机上应用程序提供`端到端`的通信，`TCP(传输控制协议)`和`UDP(用户数据报协议)`|
|3.网络层|该层决定`数据`如何从发送方`路由`到接收方，会根据网络等各种因素决定传输的`最佳路径`|
|4.数据链路层|控制`网络层`和`物理层`之间的通信。作用：确保在不可靠物理线路上进行数据的可靠传输。`网络层数据`会分割为可供`物理层`传输的`帧`，该层会额外附加上`接收方物理地址、纠错和控制信息`，接收方如果检测到差错，发送方会重新发送该帧数据。|
|5.物理层|该层负责`比特流`在节点间的传输。该层的协议与链路有关，也与传输介质有光(光纤、双绞线等)|

3、什么叫做协议？
>1. 为实现一定功能需要双方共同遵守的规则

4、TCP的传输过程
>打开连接->写请求数据->读相应数据->关闭连接

5、TCP三次握手
>1. 第一次握手：建立连接后客户端发送`连接请求报文段(SYN =1, Sequence Number(seq) = x)`，并等待服务端确认(`客户端进入SYN_SENT状态`)。
>2. 第二次握手：服务端接收信息并确认后，将`SYN, ACK=(seq)x+1, seq=y`返回给`客户端`，自身进入`SYN_RCVD状态`
>3. 第三次握手：客户端接收到服务端的`SYN+ACK`报文段, 将`ACK=y+1`报文段发送给服务器。发送后`服务端和客户端`进入`ESTABLISHED(连接成功)`状态。

6、TCP四次挥手:
>1. 第一次挥手：客户端向服务端发送一个`FIN报文段`并进入`FIN_WAIT_1状态`-表示客户端没有数据要发送给服务端了。
>2. 第二次挥手：服务端收到后，向客户端发送`ACK报文段`。
>3. 第三次挥手：服务端向客户端发送`FIN报文段`，请求关闭连接，自身进入`LAST_ACK状态`
>4. 第四次挥手: 客户端收到服务端发送的`FIN报文段`，并向服务端发送`ACK报文段`，客户端进入`TIME_WAIT状态`, 服务端收到客户端的`ACK报文段`后就关闭连接。客户端等待`2MSL(最大报文段生存时间)`后没收到回复就关闭连接。

7、Http的keepalive connections机制的作用
>1. 如果有大量连接，tcp的三次握手和四次挥手会导致性能低下。
>2. Http会在传输完成后仍然保持连接，再次请求数据时，能复用之前空闲下来的连接，提高性能。

8、 Http是什么？特点有哪些？
>1. Http是一种`应用层`的`面向对象的协议`
>2. `Http`便捷高效快捷，适用于`分布式超媒体信息系统`。
>3.

9、 \*Http的历史
>1. Http1.1： 1997年版本，进一步完善了Http协议，当前最流行版本。
>2. SPDY: 2009年谷歌为解决`Http1.1效率不高`的问题而自行研发的协议(目的在于通过`压缩、多路复用、优先级`来压缩网页的`加载时间`和`提高安全性`)
>3. Http2: 2015年发布，继承自`SPDY`并最终吸收了`SPDY协议的特性`(谷歌v587)

10、 Http协议的主要特点
>1. 支持C/S模式
>2. 简单快捷：请求数据只需通过`GET、HEAD、POST`方法，通信速度极快。
>3. 灵活：Http允许传输`任何类型的数据对象`, 用`Content-Type`标记即可。
>4. 短连接：每次连接只传输一个数据。
>5. 无状态: `Http`是无状态协议，指`协议对事务处理没有记忆能力`。`优点：服务端应答速度块`；`缺点：需要先前信息就需要重传之前的数据。`

11、Http Url的格式
>`http://host[:port][abs_path]``
>1. `http`: 表明是http协议
>2. `host`: 合法的Internet主机域名或者IP地址。
>3. `port`: 端口号
>4. `abs_path`: 请求资源的`URL`(Web上任意可用的资源)

#参考资料
1. [SPDY协议是什么?](http://blog.csdn.net/makenothing/article/details/53698494)
2. [也许，这样理解HTTPS更容易](http://mp.weixin.qq.com/s/yEs0n__bFekzF2m3QEwNfA)
